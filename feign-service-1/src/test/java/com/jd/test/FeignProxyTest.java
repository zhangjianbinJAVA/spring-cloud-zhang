package com.jd.test;

import com.myke.feign.FeignApplication;
import com.myke.feign.client.CacheClient;
import lombok.extern.java.Log;
import lombok.extern.slf4j.Slf4j;
import org.apache.commons.lang.StringUtils;
import org.junit.Test;
import org.junit.runner.RunWith;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.test.context.junit4.SpringRunner;

/**
 * @author： zhangjianbin <br/>
 * ===============================
 * Created with IDEA.
 * Date： 2018/7/2
 * Time： 10:43
 * ================================
 */
@Slf4j
@RunWith(SpringRunner.class)
@SpringBootTest(classes = FeignApplication.class)
public class FeignProxyTest {

    @Autowired
    private CacheClient cacheClient;


    @Test
    public void t3() {
        String[] arr1 = {"hnc.user.brand_info_", "hnc.user.brand_is_added_by_self_"};
        String[] arr2 = {
                "2_10024329_1304",
                "2_10000142_1454",
                "2_10000583_1329",
                "2_10003852_1337",
                "2_10004804_2183",
                "2_10004804_2184",
                "2_10004804_2185",
                "2_10007158_2281",
                "2_10007158_2278",
                "2_10007452_2316",
                "2_10007718_2366",
                "2_10000013_1326",
                "2_10000013_1938",
                "2_10000013_1940",
                "2_10008042_2438",
                "2_10008790_2584",
                "2_10011886_3519",
                "2_10011886_3520",
                "2_10012060_3560",
                "2_10012337_3646",
                "2_10012145_3735",
                "2_10012145_3736",
                "2_10012145_3737",
                "2_10012145_3738",
                "2_10012145_3739",
                "2_10012145_3740",
                "2_10012145_3741",
                "2_10012145_3742",
                "2_10012145_3743",
                "2_10012145_3744",
                "2_10012145_3745",
                "2_10012145_3746",
                "2_10012145_3747",
                "2_10012145_3748",
                "2_10012145_3749",
                "2_10012145_3750",
                "2_10012145_3751",
                "2_10012145_3752",
                "2_10012145_3753",
                "2_10012145_3754",
                "2_10012145_3755",
                "2_10012145_3756",
                "2_10012145_3757",
                "2_10012145_3758",
                "2_10012145_3759",
                "2_10012145_3760",
                "2_10012145_3761",
                "2_10012145_3762",
                "2_10012145_3763",
                "2_10012145_3764",
                "2_10012145_3765",
                "2_10012145_3766",
                "2_10012145_3767",
                "2_10012952_1304",
                "2_10013411_1304",
                "2_10013466_1252",
                "2_10013478_3850",
                "2_10013771_3890",
                "2_10013861_3911",
                "2_10013049_3914",
                "2_10013049_3913",
                "2_10013862_1304",
                "2_10013862_3921",
                "2_10013862_3922",
                "2_10014540_4031",
                "2_10014697_1304",
                "2_10015013_1754",
                "2_10015013_4109",
                "2_10015013_4110",
                "2_10015013_4111",
                "2_10015013_4112",
                "2_10015013_3427",
                "2_10015013_1304",
                "2_10014589_1761",
                "2_10015191_4146",
                "2_10015191_1304",
                "2_10015402_4189",
                "2_10015697_4270",
                "2_10017123_1304",
                "2_10018821_4740",
                "2_10018821_4741",
                "2_10018821_3414",
                "2_10018821_4742",
                "2_10018821_4743",
                "2_10018821_4744",
                "2_10018821_4745",
                "2_10019445_4880",
                "2_10019383_4831",
                "2_10019383_4832",
                "2_10019383_4833",
                "2_10019383_4834",
                "2_10019383_4835",
                "2_10019383_4836",
                "2_10019383_4837",
                "2_10019383_4838",
                "2_10019383_4839",
                "2_10019383_4840",
                "2_10019383_4841",
                "2_10019383_4842",
                "2_10019383_4843",
                "2_10019383_4844",
                "2_10019383_4845",
                "2_10019383_4846",
                "2_10019383_4847",
                "2_10019383_4848",
                "2_10019383_4849",
                "2_10019383_4850",
                "2_10019383_4851",
                "2_10019383_4852",
                "2_10019383_4853",
                "2_10019383_4854",
                "2_10019383_4855",
                "2_10019383_4856",
                "2_10019383_4857",
                "2_10019383_4858",
                "2_10019383_4859",
                "2_10019383_4860",
                "2_10019383_4861",
                "2_10019383_4862",
                "2_10019383_4863",
                "2_10019383_4864",
                "2_10019383_4865",
                "2_10019383_4866",
                "2_10019383_4867",
                "2_10019383_4868",
                "2_10019383_4869",
                "2_10019383_4870",
                "2_10019383_4871",
                "2_10019383_4872",
                "2_10019383_4873",
                "2_10019794_4923",
                "2_10019794_4924",
                "2_10019794_4925",
                "2_10019794_4926",
                "2_10019798_4936",
                "2_10019798_4933",
                "2_10019798_4934",
                "2_10019798_4935",
                "2_10019855_4943",
                "2_10019799_1304",
                "2_10020437_5030",
                "2_10020735_1304",
                "2_10020148_1304",
                "2_10020785_5082",
                "2_10020785_5083",
                "2_10020785_5084",
                "2_10020988_1304",
                "2_10020966_5133",
                "2_10016304_5160",
                "2_10016304_5161",
                "2_10021307_5168",
                "2_10021508_5194",
                "2_10021508_5195",
                "2_10021508_5196",
                "2_10021508_5197",
                "2_10021775_5244",
                "2_10021833_5252",
                "2_10012956_5313",
                "2_10022483_5352",
                "2_10022483_5353",
                "2_10022483_5354",
                "2_10022959_5433",
                "2_10022953_5441",
                "2_10022953_5442",
                "2_10022953_5443",
                "2_10023386_5514",
                "2_10023386_5515",
                "2_10023526_1304"};

        for (String key : arr1) {
            for (String k : arr2) {
                String result = key + k;
                insertCacheClient(result);
            }
        }
    }

    //@Test
    public void t2() {
        String[] arr = {"hnc.user.brand_added_by_self_2_10000142_1139108",
                "hnc.user.brand_added_by_self_2_10000583_1130000",
                "hnc.user.brand_added_by_self_2_10000532_1130000",
                "hnc.user.brand_added_by_self_2_10000122_1130000",
                "hnc.user.brand_added_by_self_2_10003852_1130000",
                "hnc.user.brand_added_by_self_2_10004714_1130382",
                "hnc.user.brand_added_by_self_2_10004830_1131746",
                "hnc.user.brand_added_by_self_2_10005289_1130382",
                "hnc.user.brand_added_by_self_2_10005289_1131746",
                "hnc.user.brand_added_by_self_2_10004804_1153217",
                "hnc.user.brand_added_by_self_2_10007158_1129068",
                "hnc.user.brand_added_by_self_2_10007452_1130504",
                "hnc.user.brand_added_by_self_2_10007618_1153217",
                "hnc.user.brand_added_by_self_2_10007718_1148159",
                "hnc.user.brand_added_by_self_2_10000013_1130504",
                "hnc.user.brand_added_by_self_2_10008042_1129854",
                "hnc.user.brand_added_by_self_2_10008072_1153217",
                "hnc.user.brand_added_by_self_2_10008416_1130504",
                "hnc.user.brand_added_by_self_2_10008416_1139070",
                "hnc.user.brand_added_by_self_2_10008755_1148159",
                "hnc.user.brand_added_by_self_2_10008791_1130382",
                "hnc.user.brand_added_by_self_2_10008790_1129854",
                "hnc.user.brand_added_by_self_2_10009333_1129854",
                "hnc.user.brand_added_by_self_2_10008898_1153217",
                "hnc.user.brand_added_by_self_2_10009589_1129854",
                "hnc.user.brand_added_by_self_2_10009746_1153217",
                "hnc.user.brand_added_by_self_2_10009431_1127441",
                "hnc.user.brand_added_by_self_2_10010624_1153217",
                "hnc.user.brand_added_by_self_2_10011210_1130504",
                "hnc.user.brand_added_by_self_2_10011210_212",
                "hnc.user.brand_added_by_self_2_10011209_1153217",
                "hnc.user.brand_added_by_self_2_10011367_1160496",
                "hnc.user.brand_added_by_self_2_10011884_1129356",
                "hnc.user.brand_added_by_self_2_10011933_1127441",
                "hnc.user.brand_added_by_self_2_10011439_1129854",
                "hnc.user.brand_added_by_self_2_10011439_1153217",
                "hnc.user.brand_added_by_self_2_10012017_1153217",
                "hnc.user.brand_added_by_self_2_10011886_1130809",
                "hnc.user.brand_added_by_self_2_10012060_1130504",
                "hnc.user.brand_added_by_self_2_10012099_1127441",
                "hnc.user.brand_added_by_self_2_10012099_1129068",
                "hnc.user.brand_added_by_self_2_10012099_1129854",
                "hnc.user.brand_added_by_self_2_10012099_1130382",
                "hnc.user.brand_added_by_self_2_10012099_1130504",
                "hnc.user.brand_added_by_self_2_10011928_231",
                "hnc.user.brand_added_by_self_2_10011928_1130504",
                "hnc.user.brand_added_by_self_2_10012389_1153217",
                "hnc.user.brand_added_by_self_2_10012554_1131594",
                "hnc.user.brand_added_by_self_2_10012337_1153217",
                "hnc.user.brand_added_by_self_2_10012717_1131263",
                "hnc.user.brand_added_by_self_2_10012717_1153217",
                "hnc.user.brand_added_by_self_2_10013052_1153217",
                "hnc.user.brand_added_by_self_2_10012145_1130504",
                "hnc.user.brand_added_by_self_2_10012145_1153217",
                "hnc.user.brand_added_by_self_2_10012952_1127441",
                "hnc.user.brand_added_by_self_2_10012952_1129068",
                "hnc.user.brand_added_by_self_2_10012952_1129356",
                "hnc.user.brand_added_by_self_2_10012952_1130382",
                "hnc.user.brand_added_by_self_2_10012952_1130504",
                "hnc.user.brand_added_by_self_2_10013405_1130504",
                "hnc.user.brand_added_by_self_2_10013405_1153217",
                "hnc.user.brand_added_by_self_2_10013411_1130382",
                "hnc.user.brand_added_by_self_2_10013466_1139070",
                "hnc.user.brand_added_by_self_2_10013478_1131594",
                "hnc.user.brand_added_by_self_2_10013771_1130382",
                "hnc.user.brand_added_by_self_2_10013835_1153217",
                "hnc.user.brand_added_by_self_2_10013861_1129356",
                "hnc.user.brand_added_by_self_2_10013861_1153217",
                "hnc.user.brand_added_by_self_2_10013049_1131746",
                "hnc.user.brand_added_by_self_2_10013862_1131241",
                "hnc.user.brand_added_by_self_2_10013862_1131263",
                "hnc.user.brand_added_by_self_2_10013862_1131594",
                "hnc.user.brand_added_by_self_2_10014111_1130382",
                "hnc.user.brand_added_by_self_2_10014181_1130382",
                "hnc.user.brand_added_by_self_2_10014540_1153217",
                "hnc.user.brand_added_by_self_2_10014697_1131594",
                "hnc.user.brand_added_by_self_2_10015013_1131263",
                "hnc.user.brand_added_by_self_2_10014589_1130504",
                "hnc.user.brand_added_by_self_2_10015191_1130504",
                "hnc.user.brand_added_by_self_2_10015191_1153217",
                "hnc.user.brand_added_by_self_2_10015301_1131746",
                "hnc.user.brand_added_by_self_2_10015537_1129068",
                "hnc.user.brand_added_by_self_2_10015537_1129356",
                "hnc.user.brand_added_by_self_2_10015537_1153217",
                "hnc.user.brand_added_by_self_2_10015537_1160496",
                "hnc.user.brand_added_by_self_2_10015697_1153217",
                "hnc.user.brand_added_by_self_2_10015882_1131263",
                "hnc.user.brand_added_by_self_2_10016306_1153217",
                "hnc.user.brand_added_by_self_2_10016658_1153217",
                "hnc.user.brand_added_by_self_2_10016699_1153217",
                "hnc.user.brand_added_by_self_2_10016748_1153217",
                "hnc.user.brand_added_by_self_2_10016543_1130504",
                "hnc.user.brand_added_by_self_2_10016543_1153217",
                "hnc.user.brand_added_by_self_2_10017069_1129356",
                "hnc.user.brand_added_by_self_2_10017123_1131594",
                "hnc.user.brand_added_by_self_2_10017316_1153217",
                "hnc.user.brand_added_by_self_2_10016975_1131746",
                "hnc.user.brand_added_by_self_2_10014537_1153217",
                "hnc.user.brand_added_by_self_2_10017636_1127441",
                "hnc.user.brand_added_by_self_2_10017119_1153217",
                "hnc.user.brand_added_by_self_2_10013684_1130382",
                "hnc.user.brand_added_by_self_2_10013684_1130809",
                "hnc.user.brand_added_by_self_2_10018335_1129854",
                "hnc.user.brand_added_by_self_2_10018335_1153217",
                "hnc.user.brand_added_by_self_2_10018821_1130504",
                "hnc.user.brand_added_by_self_2_10015796_1131263",
                "hnc.user.brand_added_by_self_2_10019332_1130382",
                "hnc.user.brand_added_by_self_2_10019445_212",
                "hnc.user.brand_added_by_self_2_10019625_1153217",
                "hnc.user.brand_added_by_self_2_10019383_1130504",
                "hnc.user.brand_added_by_self_2_10014802_1153217",
                "hnc.user.brand_added_by_self_2_10019643_1153217",
                "hnc.user.brand_added_by_self_2_10019747_1160496",
                "hnc.user.brand_added_by_self_2_10019750_1130382",
                "hnc.user.brand_added_by_self_2_10019750_1153217",
                "hnc.user.brand_added_by_self_2_10019794_1131263",
                "hnc.user.brand_added_by_self_2_10019797_1153217",
                "hnc.user.brand_added_by_self_2_10019798_1130504",
                "hnc.user.brand_added_by_self_2_10019855_1130504",
                "hnc.user.brand_added_by_self_2_10019858_1153217",
                "hnc.user.brand_added_by_self_2_10017858_1153217",
                "hnc.user.brand_added_by_self_2_10019799_1129356",
                "hnc.user.brand_added_by_self_2_10012101_1131263",
                "hnc.user.brand_added_by_self_2_10020494_1153217",
                "hnc.user.brand_added_by_self_2_10020437_212",
                "hnc.user.brand_added_by_self_2_10020646_1153217",
                "hnc.user.brand_added_by_self_2_10020735_1129854",
                "hnc.user.brand_added_by_self_2_10020148_1127441",
                "hnc.user.brand_added_by_self_2_10020739_1180833",
                "hnc.user.brand_added_by_self_2_10020977_1130504",
                "hnc.user.brand_added_by_self_2_10020785_1131594",
                "hnc.user.brand_added_by_self_2_10020988_1127441",
                "hnc.user.brand_added_by_self_2_10020966_1130504",
                "hnc.user.brand_added_by_self_2_10016304_1130382",
                "hnc.user.brand_added_by_self_2_10016304_1131746",
                "hnc.user.brand_added_by_self_2_10021307_1153217",
                "hnc.user.brand_added_by_self_2_10021508_1129854",
                "hnc.user.brand_added_by_self_2_10021775_1130504",
                "hnc.user.brand_added_by_self_2_10021833_1153217",
                "hnc.user.brand_added_by_self_2_10021988_1129356",
                "hnc.user.brand_added_by_self_2_10022071_1153217",
                "hnc.user.brand_added_by_self_2_10021759_212",
                "hnc.user.brand_added_by_self_2_10021995_1153217",
                "hnc.user.brand_added_by_self_2_10012956_1129068",
                "hnc.user.brand_added_by_self_2_10012956_1129356",
                "hnc.user.brand_added_by_self_2_10021494_1153217",
                "hnc.user.brand_added_by_self_2_10022483_1130809",
                "hnc.user.brand_added_by_self_2_10020733_1131241",
                "hnc.user.brand_added_by_self_2_10022959_1131594",
                "hnc.user.brand_added_by_self_2_10022953_1130809",
                "hnc.user.brand_added_by_self_2_10022953_1131241",
                "hnc.user.brand_added_by_self_2_10022524_1129854",
                "hnc.user.brand_added_by_self_2_10022524_1131594",
                "hnc.user.brand_added_by_self_2_10022524_1131746",
                "hnc.user.brand_added_by_self_2_10022524_1130382",
                "hnc.user.brand_added_by_self_2_10023119_1160496",
                "hnc.user.brand_added_by_self_2_10023386_1130504",
                "hnc.user.brand_added_by_self_2_10023526_1153217",
                "hnc.user.brand_added_by_self_2_10024165_212",
                "hnc.user.brand_added_by_self_2_10024165_231",
                "hnc.user.brand_added_by_self_2_10024165_1127441",
                "hnc.user.brand_added_by_self_2_10024165_1129068",
                "hnc.user.brand_added_by_self_2_10024165_1129356",
                "hnc.user.brand_added_by_self_2_10024165_1129854",
                "hnc.user.brand_added_by_self_2_10024165_1130000",
                "hnc.user.brand_added_by_self_2_10024165_1130382",
                "hnc.user.brand_added_by_self_2_10024165_1130504",
                "hnc.user.brand_added_by_self_2_10024165_1130809",
                "hnc.user.brand_added_by_self_2_10024165_1131067",
                "hnc.user.brand_added_by_self_2_10024165_1131241",
                "hnc.user.brand_added_by_self_2_10024165_1131263",
                "hnc.user.brand_added_by_self_2_10024165_1131594",
                "hnc.user.brand_added_by_self_2_10024165_1131746",
                "hnc.user.brand_added_by_self_2_10024165_1139070",
                "hnc.user.brand_added_by_self_2_10024165_1139108",
                "hnc.user.brand_added_by_self_2_10024165_1139246",
                "hnc.user.brand_added_by_self_2_10024165_1148159",
                "hnc.user.brand_added_by_self_2_10024165_1153217",
                "hnc.user.brand_added_by_self_2_10024165_1160496",
                "hnc.user.brand_added_by_self_2_10024165_1180833",
                "hnc.user.brand_added_by_self_2_10024259_1130504",
                "hnc.user.brand_added_by_self_2_10024329_1131746",
                "hnc.user.brand_added_by_self_2_10024495_1160496"};

        for (String key : arr) {
            insertCacheClient(key);
        }
    }


    //@Test
    public void cacheTest() {
        String[] key1 = {"hnc.user.save_category_page_info_",
                "hnc.user.category_tree_",
                "hnc.user.choose_category_page_seller_type_",
                "hnc.user.brand_list_info_",
                "hnc.user.shipping_address_info_",
                "hnc.user.return_address_info_",
                "hnc.user.seller_info_",
                "hnc.user.seller_step_info_"};


        String[] arr = {
                "2_10000142",
                "2_10000583",
                "2_10000532",
                "2_10000122",
                "2_10003718",
                "2_10003852",
                "2_10004087",
                "2_10004090",
                "2_10004714",
                "2_10004830",
                "2_10005289",
                "2_10004804",
                "2_10005660",
                "2_10007158",
                "2_10007197",
                "2_10007452",
                "2_10005383",
                "2_10007618",
                "2_10007622",
                "2_10007718",
                "2_10007751",
                "2_10000013",
                "2_10008042",
                "2_10008072",
                "2_10008416",
                "2_10008755",
                "2_10008791",
                "2_10008790",
                "2_10008905",
                "2_10008931",
                "2_10009333",
                "2_10008765",
                "2_10009325",
                "2_10008898",
                "2_10009589",
                "2_10009746",
                "2_10009431",
                "2_10010105",
                "2_10010624",
                "2_10011210",
                "2_10011209",
                "2_10011367",
                "2_10011884",
                "2_10011933",
                "2_10011439",
                "2_10012017",
                "2_10011886",
                "2_10012060",
                "2_10012099",
                "2_10012106",
                "2_10011928",
                "2_10012054",
                "2_10012389",
                "2_10012554",
                "2_10012337",
                "2_10012717",
                "2_10013052",
                "2_10012145",
                "2_10012952",
                "2_10013405",
                "2_10013411",
                "2_10013466",
                "2_10013478",
                "2_10013771",
                "2_10013835",
                "2_10013861",
                "2_10013049",
                "2_10013862",
                "2_10014111",
                "2_10014181",
                "2_10014540",
                "2_10014697",
                "2_10015013",
                "2_10014589",
                "2_10015191",
                "2_10015301",
                "2_10015402",
                "2_10015537",
                "2_10015697",
                "2_10015882",
                "2_10016306",
                "2_10016658",
                "2_10016699",
                "2_10016748",
                "2_10016543",
                "2_10017069",
                "2_10017123",
                "2_10017316",
                "2_10016975",
                "2_10014537",
                "2_10017636",
                "2_10017119",
                "2_10013684",
                "2_10018335",
                "2_10018821",
                "2_10015796",
                "2_10019332",
                "2_10019445",
                "2_10019625",
                "2_10019383",
                "2_10014802",
                "2_10019643",
                "2_10019747",
                "2_10019750",
                "2_10019794",
                "2_10019797",
                "2_10019798",
                "2_10019855",
                "2_10019858",
                "2_10017858",
                "2_10019799",
                "2_10012101",
                "2_10020494",
                "2_10020437",
                "2_10020646",
                "2_10020735",
                "2_10020148",
                "2_10020739",
                "2_10020977",
                "2_10020785",
                "2_10020988",
                "2_10020966",
                "2_10016304",
                "2_10021307",
                "2_10021508",
                "2_10021775",
                "2_10021833",
                "2_10021988",
                "2_10022071",
                "2_10021759",
                "2_10021995",
                "2_10012956",
                "2_10022195",
                "2_10021494",
                "2_10022483",
                "2_10020733",
                "2_10022959",
                "2_10022953",
                "2_10022524",
                "2_10023119",
                "2_10023386",
                "2_10023526",
                "2_10024165",
                "2_10024259",
                "2_10024329",
                "2_10024392",
                "2_10024495"};


        for (String key : key1) {
            for (String k : arr) {
                String k1 = key + k;
                insertCacheClient(k1);
            }
        }


    }

    private void insertCacheClient(String k1) {
        log.info("key:{}", k1);
        String result = cacheClient.get(2L, k1);
        if (StringUtils.isNotBlank(result)) {
            boolean b = cacheClient.save2Cache(2L, k1, result, 0);
            log.info("key:{},save result:{}", k1, b);
        }
    }


}
